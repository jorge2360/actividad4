{% extends "base.html" %}
{% load static %}

{% block title %}Publicaciones{% endblock %}
{% block logo %}
  Publicaciones
{% endblock %}
{% block content %}

    <!-- Tabla de Publicaciones -->
<section id="hero" class="hero section dark-background">
  <img src="{% static 'assets/img/hero-bg.jpg' %}" alt="" data-aos="fade-in">
  <div class="container" data-aos="fade-up">
    <h1 class="text-white">Publicaciones</h1>
    <div class="table-responsive bg-light p-4 rounded shadow mt-4">
      <table class="table table-striped table-bordered mb-0">
        <thead class="table-dark">
        <tr>
          <th>Título</th>
          <th>Contenido</th>
          <th>Fecha</th>
          <th>Publicador</th>
          <th>Autorizador</th>
        </tr>
      </thead>
      <tbody>
        {% for pub in publicaciones %}
        <tr>
          <td>{{ pub.titulo }}</td>
          <td>{{ pub.contenido }}</td>
          <td>{{ pub.fecha_publicacion }}</td>
          <td>{{ pub.publicador.nombre }}</td>
          <td>{{ pub.autorizador.nombre }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center">No hay publicaciones aún.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Tabla de Publicadores -->
    <h2 class="mt-4">Estudiantes Publicadores</h2>
    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Carrera</th>
        </tr>
      </thead>
      <tbody>
        {% for p in publicadores %}
        <tr>
          <td>{{ p.nombre }}</td>
          <td>{{ p.correo }}</td>
          <td>{{ p.carrera }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="text-center">No hay publicadores registrados.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Tabla de Autorizadores -->
    <h2 class="mt-4">Estudiantes Autorizadores</h2>
    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Departamento</th>
        </tr>
      </thead>
      <tbody>
        {% for a in autorizadores %}
        <tr>
          <td>{{ a.nombre }}</td>
          <td>{{ a.correo }}</td>
          <td>{{ a.departamento }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="text-center">No hay autorizadores registrados.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</section>
</div>
{% endblock %}
